<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>COSMIC SPORTS</title>

<style>
  body {
    margin: 0;
    background: #000;
    color: #fff;
    font-family: system-ui, sans-serif;
  }

  h1 {
    text-align: center;
    padding: 15px;
    font-size: 20px;
  }

  .grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 12px;
    padding: 15px;
  }

  .card {
    background: #111;
    border-radius: 10px;
    padding: 15px;
    text-align: center;
    cursor: pointer;
    transition: 0.2s;
  }

  .card:hover {
    background: #1e1e1e;
    transform: scale(1.03);
  }
</style>
</head>

<body>

<h1>âš¡ COSMIC SPORTS</h1>
<div class="grid" id="channels"></div>

<script>
(async () => {
  const JSON_URL = "https://eerajson.pages.dev/Data/frame.json";
  const params = new URLSearchParams(window.location.search);
  const id = params.get("id");

  // ðŸ” AUTO REDIRECT
  if (id) {
    window.location.href = `player.html?id=${id}`;
    return;
  }

  // ðŸ“¡ LOAD CHANNEL LIST
  const res = await fetch(JSON_URL, { cache: "no-store" });
  const data = await res.json();

  const grid = document.getElementById("channels");

  Object.keys(data).forEach(key => {
    const div = document.createElement("div");
    div.className = "card";
    div.textContent = key;
    div.onclick = () => {
      window.location.href = `player.html?id=${key}`;
    };
    grid.appendChild(div);
  });
})();
</script>

</body>
</html>
