<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>COSMIC SPORTS</title>

<style>
  :root {
    --bg: #000;
    --card: #111;
    --border: #222;
    --text: #fff;
    --muted: #aaa;
    --accent: #ffcc00;
  }

  * {
    box-sizing: border-box;
  }

  body {
    margin: 0;
    background: var(--bg);
    color: var(--text);
    font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  }

  header {
    padding: 18px 15px 10px;
    text-align: center;
  }

  header h1 {
    margin: 0;
    font-size: 22px;
    letter-spacing: 1px;
  }

  /* ===== NOTE / ANNOUNCEMENT ===== */
  .note {
    margin: 12px 15px;
    padding: 12px 14px;
    background: rgba(255,255,255,0.06);
    border: 1px solid rgba(255,255,255,0.15);
    border-radius: 12px;
    font-size: 13px;
    color: var(--muted);
    text-align: center;
  }

  /* ===== CHANNEL GRID ===== */
  .grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 12px;
    padding: 15px;
  }

  .card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 14px;
    padding: 16px 10px;
    text-align: center;
    cursor: pointer;
    transition: transform 0.2s ease, background 0.2s ease;
    user-select: none;
  }

  .card:hover {
    background: #1a1a1a;
    transform: translateY(-2px);
  }

  .card span {
    font-size: 14px;
    color: var(--text);
    word-break: break-word;
  }

  footer {
    text-align: center;
    font-size: 11px;
    color: var(--muted);
    padding: 12px 0 18px;
  }
</style>
</head>

<body>

<header>
  <h1>COSMIC SPORTS</h1>
</header>

<!-- ‚úèÔ∏è EDIT THIS NOTE ANYTIME -->
<div class="note">
  ‚ö†Ô∏è ALL LINKS WON'T WORK WILL HIGHLIGHT THE WORKING LINKS ‚ö†Ô∏è
</div>

<!-- CHANNEL LIST -->
<div class="grid" id="channelGrid"></div>

<footer>
  ¬© COSMIC SPORTS
</footer>

<script>
(async () => {
  const JSON_URL = "https://eerajson.pages.dev/Data/frame.json";
  const params = new URLSearchParams(window.location.search);
  const id = params.get("id");

  // üîÅ Auto redirect if id exists
  if (id) {
    window.location.href = `player.html?id=${id}`;
    return;
  }

  try {
    const res = await fetch(JSON_URL, { cache: "no-store" });
    const data = await res.json();

    const grid = document.getElementById("channelGrid");

    Object.keys(data).forEach(key => {
      const card = document.createElement("div");
      card.className = "card";

      const label = document.createElement("span");
      label.textContent = key;

      card.appendChild(label);
      card.onclick = () => {
        window.location.href = `player.html?id=${key}`;
      };

      grid.appendChild(card);
    });

  } catch (e) {
    document.querySelector(".note").textContent =
      "‚ùå Failed to load channels. Please try again later.";
    console.error(e);
  }
})();
</script>

</body>
</html>
